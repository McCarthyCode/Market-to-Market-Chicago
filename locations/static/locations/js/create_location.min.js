$(document).ready(function(){$("#createLocation .h3").click(function(){$("#createLocationForm").slideToggle(500,function(){$("#createLocation .h3 i").toggleClass("fa-chevron-up").toggleClass("fa-chevron-down")})});var b=-1,c=0,d=$("#id_neighborhood"),e=$("#id_neighborhood_id"),f=$("#neighborhoodAutocompleteLocation");d.on("input",function(a){$("#neighborhoodAutocompleteLocation ul").remove();e.val(0);a=$(this).val();""!==a&&$.get("/neighborhoods/autocomplete",{q:a},function(a){f.append(a);b=-1;c=
$("#neighborhoodAutocompleteLocation li").length})});d.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();a=$("#neighborhoodAutocompleteLocation li.active");1===$("#neighborhoodAutocompleteLocation li").length&&(a=$("#neighborhoodAutocompleteLocation li:first-child"));e.val(a.data("id"));d.val(a.text());$("#neighborhoodAutocompleteLocation ul").remove();break;case 38:b=-1===b?c-1:(b-1+c)%c;$("#neighborhoodAutocompleteLocation li").removeClass("active");$("#neighborhoodAutocompleteLocation li:nth-child("+
(b+1)+")").addClass("active");break;case 40:b=-1===b?0:(b+1)%c,$("#neighborhoodAutocompleteLocation li").removeClass("active"),$("#neighborhoodAutocompleteLocation li:nth-child("+(b+1)+")").addClass("active")}});f.on("click","ul li",function(){e.val($(this).data("id"));d.val($(this).text());$("#neighborhoodAutocompleteLocation ul").fadeOut(500,function(){$(this).remove()})});d.focusout(function(){$("#neighborhoodAutocompleteLocation ul").fadeOut(500,function(){$(this).remove()})})});
