$(document).ready(function(){var g=$("#categoryHidden").val();$("#category").val(g).change();var e=$("#neighborhoodId"),c=$("#neighborhoodName"),f=$("#neighborhoodAutocomplete"),b=-1,d=0;c.on("input",function(a){$("#neighborhoodAutocomplete ul").remove();e.val(0);a=$(this).val();""!==a&&$.get("/neighborhoods/autocomplete",{q:a},function(a){f.append(a);b=-1;d=$("#neighborhoodAutocomplete li").length})});c.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();a=$("#neighborhoodAutocomplete li.active");
1===$("#neighborhoodAutocomplete li").length&&(a=$("#neighborhoodAutocomplete li:first-child"));e.val(a.data("id"));c.val(a.text());$("#neighborhoodAutocomplete ul").remove();break;case 38:b=-1===b?d-1:(b+1)%d;$("#neighborhoodAutocomplete li").removeClass("active");$("#neighborhoodAutocomplete li:nth-child("+(b+1)+")").addClass("active");break;case 40:b=-1===b?0:(b+d-1)%d,$("#neighborhoodAutocomplete li").removeClass("active"),$("#neighborhoodAutocomplete li:nth-child("+(b+1)+")").addClass("active")}});
f.on("click","ul li",function(){e.val($(this).data("id"));c.val($(this).text());$("#neighborhoodAutocomplete ul").fadeOut(500,function(){$(this).remove()})});c.focusout(function(){$("#neighborhoodAutocomplete ul").fadeOut(500,function(){$(this).remove()})})});
