$(document).ready(function(){function f(){g.slideUp(500);c.prop("required",!1);k.prop("required",!1);l.prop("required",!1);m.prop("required",!1)}$("#dateStart").datetimepicker();$("#dateEnd").datetimepicker();$("#endsOn").datetimepicker();$("#addEvent .h3").click(function(){$("#addEventForm").slideToggle(500);setTimeout(function(){$("#addEvent .h3 i").toggleClass("fa-chevron-up").toggleClass("fa-chevron-down")},500)});$("#allDay").change(function(){return $("#dateEndInputGroup").slideToggle(500)});
$("#advancedRepeatToggle").click(function(a){a.preventDefault();a.stopPropagation();$("#advancedRepeatCollapse").slideToggle(500);setTimeout(function(){$("#advancedRepeatToggle i").toggleClass("fa-chevron-down").toggleClass("fa-chevron-up")},500)});$("#weekdayList label").click(function(a){a.stopPropagation();$(this).toggleClass("active")});var n=$("#ends");n.change(function(){var a=Number(n.val()),b=$("#endsOnContainer"),c=$("#endsOnInput"),d=$("#endsAfter");switch(a){default:case 0:c.prop("required",
!1);d.prop("required",!1);b.slideUp(500);d.slideUp(500);break;case 1:c.prop("required",!0);d.prop("required",!1);d.is(":visible")?(d.slideUp(500),setTimeout(function(){b.slideDown(500)},500)):b.slideDown(500);break;case 2:c.prop("required",!1),d.prop("required",!0),b.is(":visible")?(b.slideUp(),setTimeout(function(){d.slideDown(500)},500)):d.slideDown(500)}});var h=$("#locationId"),c=$("#locationName"),g=$("#locationCollapse"),k=$('#locationCollapse input[name="address1"]'),l=$('#locationCollapse input[name="city"]'),
m=$('#locationCollapse input[name="state"]');$("#locationToggle").click(function(){g.is(":visible")?f():(g.slideDown(500),c.prop("required",!0),k.prop("required",!0),l.prop("required",!0),m.prop("required",!0))});var b=-1,e=0,p=$("#locationAutocomplete");c.on("input",function(a){$("#locationAutocomplete ul").remove();h.val(0);a=$(this).val();""!==a&&$.get("/events/locations",{q:a},function(a){p.append(a);e=$("#locationAutocomplete li").length;b=-1})});c.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();
a=$("#locationAutocomplete li.active");1===$("#locationAutocomplete li").length&&(a=$("#locationAutocomplete li:first-child"));h.val(a.data("id"));c.val(a.text());$("#locationAutocomplete ul").remove();f();break;case 38:b=-1===b?e-1:(b+1)%e;$("#locationAutocomplete li").removeClass("active");$("#locationAutocomplete li:nth-child("+(b+1)+")").addClass("active");break;case 40:b=-1===b?0:(b+e-1)%e,$("#locationAutocomplete li").removeClass("active"),$("#locationAutocomplete li:nth-child("+(b+1)+")").addClass("active")}});
p.on("click","ul li",function(){h.val($(this).data("id"));c.val($(this).text());$("#locationAutocomplete ul").remove();f()})});
