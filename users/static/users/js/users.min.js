$(document).ready(function(){$("#dateStart").datetimepicker();$("#dateEnd").datetimepicker();$("#endsOn").datetimepicker();$("#allDay").change(function(){return $("#dateEndInputGroup").slideToggle(500)});$("#advancedRepeatToggle").click(function(a){a.preventDefault();a.stopPropagation();$("#advancedRepeatCollapse").slideToggle(500);setTimeout(function(){$("#advancedRepeatToggle i").toggleClass("fa-chevron-down").toggleClass("fa-chevron-up")},500)});$("#weekdayList label").click(function(a){a.stopPropagation();
$(this).toggleClass("active")});var g=$("#ends");g.change(function(){var a=Number(g.val()),b=$("#endsOn"),c=$("#endsAfter");switch(a){default:case 0:b.hide();c.hide();break;case 1:b.css("display","flex");c.hide();break;case 2:b.hide(),c.show()}});var f=$("#locationCollapse");$("#locationToggle").click(function(){return f.slideToggle(500)});var e=$("#locationId"),c=$("#locationName"),b=-1,d=0,h=$("#locationAutocomplete");c.on("input",function(a){$("#locationAutocomplete ul").remove();a=$(this).val();
""===a?e.val(0):$.get("/events/locations",{q:a},function(a){h.append(a);d=$("#locationAutocomplete li").length;b=-1})});c.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();console.log("enter");a=$("#locationAutocomplete li.active");1===$("#locationAutocomplete li").length&&(a=$("#locationAutocomplete li:first-child"));e.val(a.data("id"));c.val(a.text());$("#locationAutocomplete ul").remove();f.slideUp();break;case 38:console.log("arrow up");b=-1===b?d-1:(b+1)%d;$("#locationAutocomplete li").removeClass("active");
$("#locationAutocomplete li:nth-child("+(b+1)+")").addClass("active");break;case 40:console.log("arrow down"),b=-1===b?0:(b+d-1)%d,$("#locationAutocomplete li").removeClass("active"),$("#locationAutocomplete li:nth-child("+(b+1)+")").addClass("active")}});h.on("click","ul li",function(){e.val($(this).data("id"));c.val($(this).text());$("#locationAutocomplete ul").remove()});c.focusout(function(){0===Number(e.val())&&f.slideDown()})});
