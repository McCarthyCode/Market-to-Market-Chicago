var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(d){return d.raw=d};$jscomp.createTemplateTagFirstArgWithRaw=function(d,l){d.raw=l;return d};
$(function(){function d(a){e.each(function(){$($(this).data("href")+"View").hide();$(this).removeClass("active")});a=a.data("href");document.location.hash=a;$(a+"View").show()}function l(a){$('#month input[name="year"]').val(a.year);$('#month input[name="month"]').val(a.month);var c=new Date(a.year,a.month-1,1),b="";switch(c.getMonth()+1){case 1:b="January";break;case 2:b="February";break;case 3:b="March";break;case 4:b="April";break;case 5:b="May";break;case 6:b="June";break;case 7:b="July";break;
case 8:b="August";break;case 9:b="September";break;case 10:b="October";break;case 11:b="November";break;case 12:b="December"}$("#calendarControls h3").text(b+" "+c.getFullYear());$.get("/events/month/",a,function(a){m.empty();m.append(a)})}function u(a){$.get("/events/by-date/",a,function(a){g.empty();g.append(a)})}function v(a){$.get("/events/by-date/",a,function(c){g.empty();g.append(c);e.removeClass("active").each(function(){$($(this).data("href")+"View").hide()});f=h;g.show();h.addClass("active");
document.location.href="#"+a.day})}function p(a){$.get("/events/by-location/",a,function(a){n.empty();n.append(a)})}function q(a){$.get("/events/prev/",a,function(a){var b=$("#prev"),c=a.date;a.disabled?b.addClass("disabled"):(b.data("year",c.year),b.data("month",c.month),b.attr("data-year",c.year),b.attr("data-month",c.month),b.removeClass("disabled"))})}function r(a){$.get("/events/next/",a,function(a){var b=$("#next");a=a.date;b.data("year",a.year);b.data("month",a.month);b.attr("data-year",a.year);
b.attr("data-month",a.month);b.removeClass("disabled")})}function w(a){l(a);v(a);p(a);q(a);r(a)}function x(a){var c=Number($('#month input[name="year"]').val()),b=Number($('#month input[name="month"]').val());c!==a.year||b!==a.month?w(a):(e.removeClass("active").each(function(){$($(this).data("href")+"View").hide()}),f=h,g.show(),h.addClass("active"),document.location.href="#"+a.day)}var m=$("#calendarView"),g=$("#byDateView"),n=$("#byLocationView"),k=$("#tabsCalendar"),h=$("#tabsByDate"),y=$("#tabsByLocation");
"#byDate"===document.location.hash?(g.show(),h.addClass("active")):"#byLocation"===document.location.hash?(n.show(),y.addClass("active")):(m.show(),k.addClass("active"));k=$("#tabs");var e=$("#tabs > li"),f=$("#tabs > li.active");$(f.data("href")+"View").show();e.on("click touchstart",function(a){a.preventDefault();a.stopPropagation();e.removeClass("active");"click"===a.type?(d($(this)),e.each(function(){$($(this).data("href")+"View").hide()}),f=$(this),$($(this).data("href")+"View").show()):$(this).addClass("active")});
e.on("touchend",function(a){var c=a.changedTouches[0];c=$(document.elementFromPoint(c.pageX,c.pageY));c.parent("#tabs").length&&(d($(this)),e.removeClass("active").each(function(){$($(this).data("href")+"View").hide()}),f=c,c.addClass("active"),$(c.data("href")+"View").show(),a.stopPropagation())});k.mouseenter(function(){f.removeClass("active")});k.on("mouseleave touchstart",function(){f.addClass("active")});k.on("touchend",function(){e.removeClass("active");f.addClass("active")});var t=$("#prev, #next");
t.click(function(){var a=$(this);a.hasClass("disabled")||(t.removeClass("disabled"),a={year:a.data("year"),month:a.data("month")},l(a),u(a),p(a),q(a),r(a))});m.on("click","#calendarGrid > div:not(.header)",function(){var a=$(this).data("year"),c=$(this).data("month"),b=$(this).data("day"),e=new Date(a,c-1,b),d=new Date;d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);e<d||x({year:a,month:c,day:b})})});
