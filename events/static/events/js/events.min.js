var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,k){e.raw=k;return e};
$(function(){function e(a){c.each(function(){$($(this).data("href")+"View").hide();$(this).removeClass("active")});a=a.data("href");document.location.hash=a;$(a+"View").show()}function k(a){$('#month input[name="year"]').val(a.year);$('#month input[name="month"]').val(a.month);var b=new Date(a.year,a.month-1,1);$("#calendarControls h2").text("January February March April May June July August September October November December".split(" ")[b.getMonth()]+" "+b.getFullYear());$.get("/events/month/",
a,function(a){l.empty();l.append(a)})}function t(a){$.get("/events/by-date/",a,function(a){f.empty();f.append(a)})}function u(a){$.get("/events/by-date/",a,function(b){f.empty();f.append(b);c.removeClass("active").each(function(){$($(this).data("href")+"View").hide()});d=g;f.show();g.addClass("active");document.location.href="#"+a.day})}function n(a){$.get("/events/by-location/",a,function(a){m.empty();m.append(a)})}function p(a){$.get("/events/prev/",a,function(a){var b=$("#prev"),c=a.date;a.disabled?
b.addClass("disabled"):(b.data("year",c.year),b.data("month",c.month),b.attr("data-year",c.year),b.attr("data-month",c.month),b.removeClass("disabled"))})}function q(a){$.get("/events/next/",a,function(a){var b=$("#next");a=a.date;b.data("year",a.year);b.data("month",a.month);b.attr("data-year",a.year);b.attr("data-month",a.month);b.removeClass("disabled")})}function v(a){k(a);u(a);n(a);p(a);q(a)}function w(a){var b=Number($('#month input[name="year"]').val()),e=Number($('#month input[name="month"]').val());
b!==a.year||e!==a.month?v(a):(c.removeClass("active").each(function(){$($(this).data("href")+"View").hide()}),d=g,f.show(),g.addClass("active"),document.location.href="#"+a.day)}var l=$("#calendarView"),f=$("#byDateView"),m=$("#byLocationView"),h=$("#tabsCalendar"),g=$("#tabsByDate"),x=$("#tabsByLocation");"#byDate"===document.location.hash?(f.show(),g.addClass("active")):"#byLocation"===document.location.hash?(m.show(),x.addClass("active")):(l.show(),h.addClass("active"));h=$("#tabs");var c=$("#tabs > li"),
d=$("#tabs > li.active");$(d.data("href")+"View").show();c.on("click touchstart",function(a){a.preventDefault();a.stopPropagation();c.removeClass("active");"click"===a.type?(e($(this)),c.each(function(){$($(this).data("href")+"View").hide()}),d=$(this),$($(this).data("href")+"View").show()):$(this).addClass("active")});c.on("touchend",function(a){var b=a.changedTouches[0];b=$(document.elementFromPoint(b.pageX,b.pageY));b.parent("#tabs").length&&(e($(this)),c.removeClass("active").each(function(){$($(this).data("href")+
"View").hide()}),d=b,b.addClass("active"),$(b.data("href")+"View").show(),a.stopPropagation())});h.mouseenter(function(){d.removeClass("active")});h.on("mouseleave touchstart",function(){d.addClass("active")});h.on("touchend",function(){c.removeClass("active");d.addClass("active")});var r=$("#prev, #next");r.click(function(){var a=$(this);a.hasClass("disabled")||(r.removeClass("disabled"),a={year:a.data("year"),month:a.data("month")},k(a),t(a),n(a),p(a),q(a))});l.on("click","#calendarGrid > div:not(.header)",
function(){var a=$(this).data("year"),b=$(this).data("month"),c=$(this).data("day"),e=new Date(a,b-1,c),d=new Date;d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);e<d||w({year:a,month:b,day:c})})});
