var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,d){b.raw=d;return b};
$(document).ready(function(){var b=-1,d=0,l=$("#authorAutocomplete"),e=$("#id_author"),h=$("#id_author_id");e.on("input",function(a){$("#authorAutocomplete ul").remove();h.val(0);a=$(this).val();""!==a&&$.get("/authors/autocomplete",{q:a},function(a){l.append(a);b=-1;d=$("#authorAutocomplete li").length})});e.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();a=$("#authorAutocomplete li.active");1===$("#authorAutocomplete li").length&&(a=$("#authorAutocomplete li:first-child"));h.val(a.data("id"));
e.val(a.text());$("#authorAutocomplete ul").remove();break;case 38:b=-1===b?d-1:(b-1+d)%d;$("#authorAutocomplete li").removeClass("active");$("#authorAutocomplete li:nth-child("+(b+1)+")").addClass("active");break;case 40:b=-1===b?0:(b+1)%d,$("#authorAutocomplete li").removeClass("active"),$("#authorAutocomplete li:nth-child("+(b+1)+")").addClass("active")}});l.on("click","ul li",function(){h.val($(this).data("id"));e.val($(this).text());$("#authorAutocomplete ul").fadeOut(500,function(){$(this).remove()})});
e.focusout(function(){$("#authorAutocomplete ul").fadeOut(500,function(){$(this).remove()})});var c=-1,f=0,m=$("#albumAutocomplete"),g=$("#id_album"),k=$("#id_album_id");g.on("input",function(a){$("#albumAutocomplete ul").remove();k.val(0);a=$(this).val();""!==a&&$.get("/images/autocomplete",{q:a},function(a){m.append(a);c=-1;f=$("#albumAutocomplete li").length})});g.keydown(function(a){switch(a.keyCode){case 13:a.preventDefault();a=$("#albumAutocomplete li.active");1===$("#albumAutocomplete li").length&&
(a=$("#albumAutocomplete li:first-child"));k.val(a.data("id"));g.val(a.text());$("#albumAutocomplete ul").remove();break;case 38:c=-1===c?f-1:(c-1+f)%f;$("#albumAutocomplete li").removeClass("active");$("#albumAutocomplete li:nth-child("+(c+1)+")").addClass("active");break;case 40:c=-1===c?0:(c+1)%f,$("#albumAutocomplete li").removeClass("active"),$("#albumAutocomplete li:nth-child("+(c+1)+")").addClass("active")}});m.on("click","ul li",function(){k.val($(this).data("id"));g.val($(this).text());$("#albumAutocomplete ul").fadeOut(500,
function(){$(this).remove()})});g.focusout(function(){$("#albumAutocomplete ul").fadeOut(500,function(){$(this).remove()})})});
